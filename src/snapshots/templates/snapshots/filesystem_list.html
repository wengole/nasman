{% extends "base.html" %}
{% load staticfiles i18n %}

{% block content %}
  {{ block.super }}
  <a href="{% url "wizfs:add-fs" %}"
     class="btn btn-success">Add filesystem</a>
  <a href="{% url "wizfs:add-fs" %}?auto=1"
     class="btn btn-success">Auto add filesystems</a>
  <div class="table-responsive">
    <table class="table">
      <thead>
      <tr>
        <th>Name</th>
        <th>Parent</th>
        <th>Mountpoint</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      {% for fs in object_list %}
        <tr>
          <td>{{ fs.name }}</td>
          <td>{{ fs.parent|default:"-" }}</td>
          <td>{{ fs.mountpoint }}</td>
          <td><a class="btn btn-primary btn-xs"
                 href="{% url "wizfs:filesystem" pk=fs.pk %}?reindex=1">Reindex</a>
            <a class="btn btn-warning btn-xs"
               href="{% url "wizfs:delete-fs" pk=fs.pk %}">Delete</a>
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock content %}