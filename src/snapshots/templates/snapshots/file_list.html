{% extends "base.html" %}
{% load staticfiles i18n humanize %}

{% block title %}File Browser{% endblock %}

{% block page-title %}File Browser{% endblock %}

{% block content %}
{{ block.super }}
<ol class="breadcrumb">
  <li{% if not path %} class="active"{% endif %}>
    root
  </li>
  {% for directory in path %}
    <li{% if forloop.last %} class="active"{% endif %}>
      {% if not forloop.last%}
        <a href="?path={{ directory.path }}">
      {% endif %}
      {{ directory.name }}
      {% if not forloop.last %}
        </a>
      {% endif %}
    </li>
  {% endfor %}
</ol>
<div class="table-responsive">
  <table class="table table-striped">
    <thead>
    <tr>
      <th class="col-md-1"></th>
      <th>Filename</th>
      <th>Type</th>
      <th>Size</th>
      <th>Modified</th>
    </tr>
    </thead>
    <tbody>
    {% if up_one %}
      <tr>
        <td><i class="fa fa-folder-open-o"></i></td>
        <td>
          <a href="?path={{ up_one }}">..</a>
        </td>
        <td colspan="3"></td>
      </tr>
    {% endif %}
    {% for file in object_list %}
      <tr>
        <td><i class="fa {{ file.icon }}"></i></td>
        <td>
          {% if file.directory %}
          <a href="?path={{ file.full_path }}">{{ file.name }}</a>
          {% else %}
          {{ file.name }}
          {% endif %}
        </td>
        <td>{{ file.mime_type }}</td>
        <td>{{ file.size|filesizeformat }}</td>
        <td>{{ file.modified|naturaltime }}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
</div>
{% endblock content %}
